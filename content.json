[{"title":"免费域名 + 动态 DNS，兼容大部分设备","date":"2023-05-15T12:30:00.000Z","path":"z-6a33.html","text":"dynv6 是个免费易用的动态 DNS 服务商，点我注册 脚本默认使用 ipv6，几乎每个设备都能拥有的公网 ipv6 #!/usr/bin/env bash if [[ &quot;$OSTYPE&quot; == &quot;darwin&quot;* ]]; then # macOS ipv6=$(ifconfig | grep inet6 | grep autoconf | grep -v temporary | awk &#39;&#123;print $2&#125;&#39; | cut -d &#39;%&#39; -f1 | grep -E &#39;^240e:|2408:8000:|2409:8000:&#39;) elif [[ &quot;$OSTYPE&quot; == &quot;linux-gnu&quot;* ]]; then # Linux ipv6=$(ip addr show | awk &#39;/inet6/&#123;print $2&#125;&#39; | cut -d &#39;/&#39; -f1 | grep -E &#39;240e:|2408:8000:|2409:8000:&#39; | head -1) else ipv6=$(curl -s 6.ipw.cn) fi hostname=你的域名 (注册后创建) token=你的token # token 获取方式 # 1. 登录后 -&gt; 右上角邮箱 -&gt; Keys -&gt; HTTP Tokens # 2. 登录后 -&gt; My Zones -&gt; 任意一个域名 -&gt; Instructions -&gt; Benutzername saved_ip=$(cat ~/.ddns/ipv6.txt) if [[ &quot;$ipv6&quot; == &quot;$saved_ip&quot; ]]; then echo &quot;当前ip为：$&#123;ipv6&#125;&quot; echo &quot;ipv6 地址没有变化&quot; else echo &quot;当前ip为：$&#123;ipv6&#125;&quot; echo &quot;ipv6 改变，开始更新&quot; curl &quot;http://dynv6.com/api/update?hostname=$hostname&amp;ipv6=$ipv6&amp;token=$token&quot; cat /dev/null&gt; ~/.ddns/ipv6.txt echo $ipv6 &gt; ~/.ddns/ipv6.txt fi 复制上面的代码，存为 xx.sh记得赋予可执行权限 chmod +x xx.sh最后可以设置个定时任务 crontab -e # 每十分钟执行一次脚本 */10 * * * * nohup bash ~/.ddns/ddns.sh &gt; ~/.ddns/ddns.log 2&gt;&amp;1 &amp; 保存即生效","tags":[{"name":"网络","slug":"网络","permalink":"https://zerock.top/tags/%E7%BD%91%E7%BB%9C/"}]}]